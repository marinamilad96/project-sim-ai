<?xml version='1.0' encoding='utf-8'?>
<beast version="2.0" namespace="beast.base.inference.parameter:beast.base.inference:remaster">
  <run spec="Simulator" nSims="1">
    <simulate spec="SimulatedTree" id="tree">
      <trajectory spec="StochasticTrajectory" id="traj" >
        <population spec="RealParameter" id="S" value="10000 10000" dimension="2" />
        <population spec="RealParameter" id="E" value="0 1" dimension="2" />
        <population spec="RealParameter" id="I" value="0" dimension="2" />
        <samplePopulation spec="RealParameter" id="D" value="0" dimension="2" />
        <samplePopulation spec="RealParameter" id="sample" value="0" />
        <plate var="i" range="0:1">
          <reaction spec="Reaction" rate="0.083">E[$(i)]:1 -> I[$(i)]:1</reaction> <!--- Incubation rate -->
          </plate>

        <!--- Plate for the Germany -->
        <reaction spec="Reaction" rate="0.0001" > S[0] + I[0]:1 -> I[0]:1 + E[0]:1</reaction> <!--- Infection rate -->
        <reaction spec="Reaction" rate="0.14" > I[0] -> D[0]</reaction> <!--- Incubation rate -->
        <reaction spec="Reaction" rate="0.032221" > I[0]:1 -> D[0] + sample[0]:1</reaction> <!--- Sampling rate -->
        <reaction spec="Reaction" rate="0.05">I[1] -> D[1]</reaction> <!--- Diagnosis rate -->

         <!--- Plate for the Outside -->
        <reaction spec="Reaction" rate="0.1">S[1] + I[1]:1 -> I[1]:1 + E[1]:1</reaction> <!--- Infection rate -->
        
         <!--- Plate for the Migration -->
        <reaction spec="Reaction" rate="0.3">I[1]:1 -> I[0]:1</reaction>
        </trajectory>
      </simulate>
    <logger spec="Logger" fileName="$(filebase)-$(seed).traj">
      <log idref="traj" />
      </logger>
    <logger spec="Logger" mode="tree" fileName="$(filebase)-$(seed).full.trees">
      <log spec="TypedTreeLogger">
        <tree spec="PrunedTree" samplePops="D" simulatedTree="@tree" />
        </log>
      </logger>
    <logger spec="Logger" mode="tree" fileName="$(filebase)-$(seed).sampled.trees">
      <log spec="TypedTreeLogger">
        <tree spec="PrunedTree" samplePops="sample" simulatedTree="@tree" />
        </log>
      </logger>
    </run>
  </beast>
